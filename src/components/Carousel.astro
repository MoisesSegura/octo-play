---
import Swiper from 'swiper/bundle';
import 'swiper/css/bundle';

import filmData from '../data/film.json'; 

const films = filmData;
---


<div class="swiper">

  <div class="swiper-wrapper">
    {films.map(film => (
      <div class="swiper-slide carousel-item">
        <img src={film.Images[0]} alt={film.Title} class="carousel-image"/>
        <div class="carousel-info">
          <h3>{film.Title} ({film.Year})</h3>
          <p>{film.Plot}</p>
        </div>
      </div>
    ))}
  </div>

  <div class="swiper-pagination"></div>

  <div class="swiper-button-prev"></div>
  <div class="swiper-button-next"></div>

  <div class="swiper-scrollbar"></div>
</div>

<script>
  import Swiper from 'swiper/bundle';

  const swiper = new Swiper('.swiper', {
    loop: true,
    pagination: {
      el: '.swiper-pagination',
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    scrollbar: {
      el: '.swiper-scrollbar',
    },
  });
</script>

<style>
.swiper {
  width: 100%;
  height: 400px;
  border-radius: 5rem;
}

.carousel-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.carousel-info {
  position: absolute;
  bottom: 20px;
  left: 20px;
  color: white;
  background-color: rgba(0, 0, 0, 0.5);
  padding: 10px;
  border-radius: 5px;
}


</style>
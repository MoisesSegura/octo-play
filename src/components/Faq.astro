---
const { question, answer } = Astro.props;
---

<div class="faq-item border-b border-gray-300 py-2">
  <div class="faq-toggle cursor-pointer">
    <h3 class="text-xl font-semibold text-white">{question}</h3>
  </div>
  <div class="faq-content overflow-hidden transition-max-height duration-300 max-h-0">
    <p class=" mt-2 text-white">{answer}</p>
  </div>
</div>

<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', () => {
    const faqItems = document.querySelectorAll('.faq-item');

    faqItems.forEach((item) => {
      const toggleElement = item.querySelector('.faq-toggle');
      const contentElement = item.querySelector('.faq-content');

      toggleElement.addEventListener('click', () => {
        const isOpen = contentElement.style.maxHeight !== '0px';
        contentElement.style.maxHeight = isOpen ? '0px' : contentElement.scrollHeight + 'px';
      });
    });
  });
</script>

<style>
  .transition-max-height {
    transition: max-height 0.3s ease;
  }
</style>
